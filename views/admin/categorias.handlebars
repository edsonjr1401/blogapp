<h2>Lista de categorias</h2>
<hr>

{{!-- Botão Nova Categoria no topo da página --}}
<a href="/admin/categorias/add" class="btn btn-success mb-4">
    <i class="fas fa-plus"></i> Nova categoria 
</a>


{{#each categorias}}
    <div class="card mt-3">
        <div class="card-body">
            <h4 class="card-title">{{nome}}</h4>
            
            <p class="card-text mb-1">
                <small class="text-muted">Slug: {{slug}}</small>
            </p>
            <p class="card-text">
                <small class="text-muted">Data de criação: {{date}}</small>
            </p>

            {{!-- Agrupamento dos botões de ação --}}
            <div class="d-flex align-items-center">
                
                {{!-- Botão EDITAR (método GET) --}}
                <a href="/admin/categorias/edit/{{ id }}" class="btn btn-warning btn-sm me-2">
                    Editar
                </a>
                
                {{!-- Formulário DELETE (Método POST) --}}
                <form action="/admin/categorias/deletar/{{id}}" method="POST" onsubmit="return confirm('Tem certeza que deseja deletar a categoria {{nome}}?');">
                    <button type="submit" class="btn btn-danger btn-sm">Deletar</button>
                </form>

            </div>
        </div>
    </div>
{{else}}
    {{!-- Mensagem quando não há categorias --}}
    <div class="alert alert-info mt-4">
        Nenhuma categoria registrada. <a href="/admin/categorias/add" class="alert-link">Crie uma agora!</a>
    </div>
{{/each}}